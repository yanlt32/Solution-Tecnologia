<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Gamificado TI</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    :root{--p:#050DEB;--pd:#040B9E;--s:#FF00E2;--a:#FF9F0A;--ok:#30D158;--no:#FF453A;--w:#FF9F0A;--r:16px;--t:all .3s ease;--sh:0 10px 40px rgba(0,0,0,.3)}
    *{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'SF Pro Text',sans-serif}
    body{background:#121212;color:#fff;min-height:100vh;line-height:1.6;transition:background .3s}
    body.light{background:#F5F5F7;color:#1C1C1E}
    .c{max-width:1100px;margin:auto;padding:20px;display:flex;flex-direction:column;min-height:100vh}
    .h{text-align:center;padding:30px 0;border-bottom:1px solid #2C2C2E;margin-bottom:30px}
    body.light .h{border-color:#E5E5EA}
    .h img{width:80px;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2))}
    .h h1{font-size:32px;font-weight:800;background:linear-gradient(135deg,var(--p),var(--s));-webkit-background-clip:text;-webkit-text-fill-color:transparent;cursor:help}
    .h p{color:#A1A1A6;font-size:16px;max-width:600px;margin:10px auto 0}
    .s{display:none;background:#1E1E1E;border-radius:var(--r);padding:40px;box-shadow:var(--sh);border:1px solid #2C2C2E;flex:1;animation:f .5s}
    body.light .s{background:#fff;border-color:#E5E5EA}
    #w{display:flex}
    .wc{max-width:600px;margin:auto;text-align:center}
    .wi{font-size:80px;margin-bottom:20px;background:linear-gradient(135deg,var(--p),var(--s));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .sg{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin:30px 0}
    .sc{background:rgba(255,255,255,.05);border:1px solid #2C2C2E;border-radius:var(--r);padding:20px;text-align:center;transition:var(--t)}
    .sc:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.2)}
    .si{font-size:24px;color:var(--p);margin-bottom:10px}
    .sv{font-size:24px;font-weight:700}
    .sl{font-size:14px;color:#A1A1A6}
    .ig{margin:25px 0;text-align:left}
    .ig label{display:block;font-weight:600;margin-bottom:10px}
    .ig input{width:100%;padding:16px 20px;border-radius:var(--r);border:1px solid #2C2C2E;background:#121212;color:#fff;font-size:16px}
    .ig input:focus{outline:none;border-color:var(--p);box-shadow:0 0 0 3px rgba(5,13,235,.2)}
    .b{padding:16px 32px;border-radius:var(--r);cursor:pointer;font-weight:600;font-size:16px;transition:var(--t);display:inline-flex;align-items:center;gap:10px}
    .bp{background:var(--p);color:#fff;border:none}
    .bp:hover{background:var(--pd);transform:translateY(-2px);box-shadow:0 8px 20px rgba(5,13,235,.4)}
    .bs{background:transparent;color:#fff;border:1px solid #2C2C2E}
    .bs:hover{background:rgba(255,255,255,.05);transform:translateY(-2px)}
    .bok{background:var(--ok);color:#000;border:none}
    .bok:hover{background:#28A745;transform:translateY(-2px)}
    .bc{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;margin-top:20px}
    .pb{height:10px;background:#2C2C2E;border-radius:5px;overflow:hidden;margin:20px 0 10px}
    .pf{height:100%;width:0;background:var(--p);transition:width .4s}
    .pi{display:flex;justify-content:space-between;font-size:14px;color:#A1A1A6}
    .t{text-align:center;font-size:28px;font-weight:800;color:var(--w);margin:10px 0}
    .q h3{font-size:22px;margin-bottom:25px}
    .o{display:grid;gap:15px}
    .op{padding:18px 20px;border-radius:var(--s);background:rgba(255,255,255,.05);border:1px solid #2C2C2E;cursor:pointer;display:flex;gap:15px;align-items:center;transition:var(--t)}
    .op:hover{background:rgba(137,6,230,.15);transform:translateX(5px)}
    .ol{width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}
    .op.correct{background:var(--ok)!important;color:#000!important}
    .op.wrong{background:var(--no)!important;color:#fff!important}
    .op.disabled{pointer-events:none}
    .sc{font-size:72px;font-weight:900;text-align:center;margin:20px 0;background:linear-gradient(135deg,var(--p),var(--s));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .m{font-size:100px;display:block;margin:20px auto}
    .rd{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin:30px 0}
    .rc{background:rgba(255,255,255,.05);border-radius:var(--r);padding:20px;text-align:center;border:1px solid #2C2C2E}
    .rv{font-size:32px;font-weight:700;margin-bottom:5px}
    .rl{font-size:14px;color:#A1A1A6}
    .rt{width:100%;border-collapse:collapse;margin-top:30px;border-radius:var(--r);overflow:hidden}
    .rt th,.rt td{padding:16px;text-align:left;border-bottom:1px solid #2C2C2E}
    .rt th{background:rgba(137,6,230,.1);font-weight:600}
    .r1{background:linear-gradient(90deg,rgba(255,215,0,.1),transparent)}
    .r2{background:linear-gradient(90deg,rgba(192,192,192,.1),transparent)}
    .r3{background:linear-gradient(90deg,rgba(205,127,50,.1),transparent)}
    .tt{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background:var(--p);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);z-index:100;transition:var(--t)}
    .tt:hover{transform:scale(1.1)}
    @keyframes f{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes p{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
    .pulse{animation:p .6s}
    @media(max-width:768px){
      .sg,.rd{grid-template-columns:1fr}
      .bc{flex-direction:column}
      .b{width:100%}
      .sc{font-size:60px}
      .m{font-size:80px}
    }
  </style>
</head>
<body>
  <div class="c">
    <div class="h">
      <img src="logo1.png" alt="Logo">
      <h1>Quiz Gamificado TI</h1>
      <p>Teste seus conhecimentos e dispute o ranking!</p>
    </div>

    <!-- BOAS-VINDAS -->
    <div id="w" class="s">
      <div class="wc">
        <div class="wi">üéÆ</div>
        <h2>Pronto para o desafio?</h2>
        <p>10 perguntas ‚Ä¢ 15s cada ‚Ä¢ B√¥nus na 5¬™ e 10¬™</p>
        <div class="sg">
          <div class="sc"><div class="si">‚ùì</div><div class="sv">10</div><div class="sl">Perguntas</div></div>
          <div class="sc"><div class="si">‚è±Ô∏è</div><div class="sv">15s</div><div class="sl">Por quest√£o</div></div>
          <div class="sc"><div class="si">‚≠ê</div><div class="sv">2x</div><div class="sl">B√¥nus</div></div>
        </div>
        <div class="ig">
          <label>Nome do jogador</label>
          <input type="text" id="n" placeholder="Seu nome..." maxlength="20">
        </div>
        <div class="bc">
          <button class="b bp" onclick="i()"><i class="fas fa-play"></i> INICIAR</button>
          <button class="b bs" onclick="d()"><i class="fas fa-home"></i> DASHBOARD</button>
        </div>
      </div>
    </div>

    <!-- JOGO -->
    <div id="g" class="s">
      <div class="pb"><div class="pf" id="pr"></div></div>
      <div class="pi"><span>Pergunta <span id="qn">1</span>/10</span><span>Pontos: <span id="ps">0</span></span></div>
      <div class="t" id="ti">15</div>
      <div class="q"><h3 id="qt"></h3><div class="o" id="op"></div></div>
      <div class="bc">
        <button class="b bp" id="nx" onclick="p()" disabled><i class="fas fa-arrow-right"></i> PR√ìXIMA</button>
        <button class="b bs" onclick="d()"><i class="fas fa-home"></i> SAIR</button>
      </div>
    </div>

    <!-- RESULTADO -->
    <div id="r" class="s">
      <h2 style="text-align:center">Parab√©ns, <span id="fn" style="color:var(--p)"></span>!</h2>
      <div id="mc"></div>
      <div class="sc" id="fs">0</div>
      <div class="rd">
        <div class="rc"><div class="rv" id="ca">0/10</div><div class="rl">Corretas</div></div>
        <div class="rc"><div class="rv" id="tb">+0</div><div class="rl">B√¥nus Tempo</div></div>
        <div class="rc"><div class="rv" id="tt">0s</div><div class="rl">Tempo</div></div>
        <div class="rc"><div class="rv" id="ac">0%</div><div class="rl">Precis√£o</div></div>
      </div>
      <div class="bc">
        <button class="b bp" onclick="rk()"><i class="fas fa-trophy"></i> RANKING</button>
        <button class="b bok" onclick="re()"><i class="fas fa-redo"></i> NOVAMENTE</button>
        <button class="b bs" onclick="d()"><i class="fas fa-home"></i> DASHBOARD</button>
      </div>
    </div>

    <!-- RANKING -->
    <div id="rk" class="s">
      <h2 style="text-align:center;margin-bottom:20px"><i class="fas fa-trophy"></i> Ranking</h2>
      <table class="rt">
        <thead><tr><th>Pos</th><th>Nome</th><th>Pontos</th><th>Tempo</th></tr></thead>
        <tbody id="rb"></tbody>
      </table>
      <div class="bc" style="margin-top:30px">
        <button class="b bp" onclick="re()"><i class="fas fa-redo"></i> JOGAR</button>
        <button class="b bs" onclick="d()"><i class="fas fa-home"></i> DASHBOARD</button>
      </div>
    </div>
  </div>

  <div class="tt" id="tt"><i class="fas fa-sun"></i></div>

  <script>
    const q = [
      {t:"Governan√ßa de TI alinha TI ao:",c:"b",b:0,o:["Criar apps","Alinhar ao neg√≥cio","Fazer backup","Comprar PCs"]},
      {t:"COBIT √© para:",c:"b",b:0,o:["Projetos","Governan√ßa TI","RH","Marketing"]},
      {t:"N√ÉO √© princ√≠pio:",c:"d",b:0,o:["Transpar√™ncia","Equidade","Responsabilidade","Backup di√°rio"]},
      {t:"Equilibra:",c:"b",b:0,o:["HW/SW","Riscos/valor/recursos","Or√ßamento","Rede"]},
      {t:"B√îNUS: Dom√≠nio COBIT?",c:"a",b:1,o:["Planejar","Pessoas","Estoque","Vendas"]},
      {t:"ITIL √©:",c:"a",b:0,o:["Servi√ßos TI","Finan√ßas","Hardware","Marketing"]},
      {t:"Comit√™ faz:",c:"b",b:0,o:["Treinar","Decis√µes estrat√©gicas","Configurar","Programar"]},
      {t:"Riscos reduzem:",c:"b",b:0,o:["Internet","Amea√ßas","Apps","Demiss√£o"]},
      {t:"Alinhamento √©:",c:"b",b:0,o:["TI isolada","TI apoia neg√≥cio","Neg√≥cio obedece","TI manda"]},
      {t:"B√îNUS: Valor √©:",c:"b",b:1,o:["Lucro TI","Benef√≠cios ao neg√≥cio","PCs","Sal√°rio"]}
    ];
    let ci=0,ps=0,tm,tl=15,tt=0,n="",cc=0,a=0;

    function i(){n=document.getElementById("n").value.trim()||"Jogador";if(!n)return alert("Nome!");h();g("g");ci=ps=tt=cc=0;a=0;up();sq();st()}
    function h(){["w","g","r","rk"].forEach(x=>document.getElementById(x).style.display="none")}
    function g(x){document.getElementById(x).style.display=x==="g"||x==="r"||x==="rk"?"block":"flex"}
    function sq(){
      a=0;const x=q[ci];
      $("qn").textContent=ci+1;$("qt").innerHTML=x.t+(x.b?' <span style="color:#FF9F0A">‚≠ê DOBRO!</span>':'');
      $("pr").style.width=(ci/10)*100+"%";const d=$("op");d.innerHTML="";
      "abcd".split("").forEach((l,i)=>{const e=document.createElement("div");e.className="op";
      e.innerHTML=`<div class="ol">${l.toUpperCase()}</div><div>${x.o[i]}</div>`;
      e.onclick=()=>so(e,l);d.appendChild(e)});
      $("nx").disabled=true;tl=15;$("ti").textContent=tl;$("ti").style.color="var(--w)";
    }
    function so(e,l){
      if(a)return;a=1;const x=q[ci],m=x.b?2:1,cor=x.c,p=l===cor?(100+tl*10)*m:0;
      document.querySelectorAll(".op").forEach(o=>{const ol=o.querySelector(".ol").textContent.toLowerCase();
      if(ol===cor)o.classList.add("correct");else if(ol===l)o.classList.add("wrong");o.classList.add("disabled")});
      if(p){cc++;ps+=p;up();e.classList.add("pulse")}$("nx").disabled=false;
    }
    function up(){$("ps").textContent=ps}
    function st(){tm=setInterval(()=>{tl--;$("ti").textContent=tl;if(tl<=5)$("ti").style.color="#FF453A";if(tl<=0){clearInterval(tm);if(!a){a=1;$("nx").disabled=false}}},1000)}
    function p(){tt+=(15-tl);clearInterval(tm);ci++;if(ci<q.length){sq();st()}else eq()}
    function eq(){
      clearInterval(tm);tt+=(15-tl);const bo=Math.max(0,500-tt);ps+=bo;
      const rk=JSON.parse(localStorage.getItem("qz")||"[]");
      rk.push({n:n,s:ps,t:tt,c:cc,d:new Date().toLocaleDateString('pt-BR')});
      rk.sort((a,b)=>b.s-a.s||a.t-b.t);localStorage.setItem("qz",JSON.stringify(rk.slice(0,50)));
      h();g("r");$("fn").textContent=n;$("fs").textContent=ps;$("ca").textContent=cc+"/10";
      $("tb").textContent="+"+bo;$("tt").textContent=Math.floor(tt/60)+"m "+(tt%60)+"s";
      $("ac").textContent=Math.round((cc/10)*100)+"%";
      const md=ps>=2400?"ü•á Ouro":ps>=1800?"ü•à Prata":"ü•â Bronze";
      $("mc").innerHTML=`<div class="m">üèÜ</div><p>Medalha: ${md}</p>`;
      confetti({particleCount:200,spread:90,origin:{y:0.6}});
    }
    function rk(){
      h();g("rk");const tb=$("rb");tb.innerHTML="";const rk=JSON.parse(localStorage.getItem("qz")||"[]");
      if(!rk.length){tb.innerHTML=`<tr><td colspan="4" style="text-align:center;padding:40px;color:#A1A1A6">
        <i class="fas fa-trophy" style="font-size:40px;display:block;opacity:.5"></i>Seja o primeiro!</td></tr>`;return}
      rk.forEach((r,i)=>{const tr=document.createElement("tr");if(i<3)tr.classList.add("r"+(i+1));
      if(r.n===n&&r.s===ps){tr.style.background="linear-gradient(90deg,rgba(137,6,230,.2),transparent)";tr.style.fontWeight="700"}
      const t=r.t<60?r.t+"s":Math.floor(r.t/60)+"m "+(r.t%60)+"s";
      tr.innerHTML=`<td>${i+1}¬∫</td><td>${r.n}</td><td>${r.s}</td><td>${t}</td>`;tb.appendChild(tr)});
    }
    function re(){h();g("w");$("n").focus()}
    function d(){window.location.href="dashboard-user.html"}
    function $(x){return document.getElementById(x)}

    // ZERAR RANKING (segure 3s no t√≠tulo)
    let ht;$(".h h1").addEventListener("mousedown",()=>{ht=setTimeout(()=>{if(confirm("üóëÔ∏è ZERAR RANKING?")){localStorage.removeItem("qz");alert("Zerado!");}},3000)});
    $(".h h1").addEventListener("mouseup",()=>clearTimeout(ht));
    $(".h h1").addEventListener("mouseleave",()=>clearTimeout(ht));

    // TEMA
    $("#tt").addEventListener("click",()=>{
      const l=document.body.classList.toggle("light");
      $("#tt").innerHTML=l?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>';
      localStorage.setItem("th",l?"light":"dark");
    });
    window.onload=()=>{
      const th=localStorage.getItem("th")||"dark";
      if(th==="light")document.body.classList.add("light");
      $("#tt").innerHTML=th==="light"?'<i class="fas fa-moon"></i>':'<iwap fas fa-sun"></i>';
      g("w");
    };
  </script>
</body>
</html>